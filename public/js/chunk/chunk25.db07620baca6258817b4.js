webpackJsonp([25],{176:function(e,t){e.exports=function(e,t,n,o,a,i){var s,l=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(s=e,l=e.default);var c,m="function"==typeof l?l.options:l;if(t&&(m.render=t.render,m.staticRenderFns=t.staticRenderFns,m._compiled=!0),n&&(m.functional=!0),a&&(m._scopeId=a),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},m._ssrRegister=c):o&&(c=o),c){var d=m.functional,f=d?m.render:m.beforeCreate;d?(m._injectStyles=c,m.render=function(e,t){return c.call(t),f(e,t)}):m.beforeCreate=f?[].concat(f,c):[c]}return{esModule:s,exports:l,options:m}}},259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(24);t.default={data:function(){return{index:1,formDynamic:{site_name:"",icp:"",qq:"",phone:"",postNum:"",tel:"",keyword:"sitebase",items:[{index:1,address:"",tel:"",status:1}],jsSlot:[{code:""}]},configID:0,operation:""}},created:function(){var e=this;o.a.get("/config",{params:{keyword:"sitebase"}}).then(function(t){t.data.status?(e.formDynamic=t.data.data,e.operation="edit",e.configID=t.data.data.id):e.operation="add"})},methods:{handleAdd:function(){this.index=this.formDynamic.items.length+1,this.formDynamic.items.push({address:"",tel:"",index:this.index,status:1})},JShandleAdd:function(){this.formDynamic.jsSlot.push({code:""}),this.$set(this.formDynamic.jsSlot,this.formDynamic.jsSlot)},handleRemove:function(e){this.formDynamic.items[e].status=0,this.formDynamic.items.splice(e,1)},JShandleRemove:function(e){var t=this.formDynamic.jsSlot.splice(e,1);this.$set(this.formDynamic.jsSlot,t),console.log(e,t)},handleSubmit:function(e){var t=this;"edit"===this.operation?o.a.patch("/config/"+this.configID,{keyword:this.formDynamic.keyword,value:this.formDynamic,type:"json"}).then(function(e){t.$message.info(e.data.message)}):o.a.post("/config",{keyword:this.formDynamic.keyword,value:this.formDynamic,type:"json"}).then(function(e){t.$message.info(e.data.message)})}}}},260:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"70%"}},[n("el-form",{ref:"formDynamic",attrs:{model:e.formDynamic,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"网站名称:",prop:"title"}},[n("el-input",{attrs:{placeholder:"输入网站名称"},model:{value:e.formDynamic.site_name,callback:function(t){e.$set(e.formDynamic,"site_name",t)},expression:"formDynamic.site_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"网站备案号:",prop:"icp"}},[n("el-input",{attrs:{placeholder:"输入网站备案号"},model:{value:e.formDynamic.icp,callback:function(t){e.$set(e.formDynamic,"icp",t)},expression:"formDynamic.icp"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"联系电话:",prop:"phone"}},[n("el-input",{attrs:{placeholder:"网站负责人联系电话"},model:{value:e.formDynamic.phone,callback:function(t){e.$set(e.formDynamic,"phone",t)},expression:"formDynamic.phone"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"服务热线:",prop:"tel"}},[n("el-input",{attrs:{placeholder:"服务热线"},model:{value:e.formDynamic.tel,callback:function(t){e.$set(e.formDynamic,"tel",t)},expression:"formDynamic.tel"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"客服QQ:",prop:"qq"}},[n("el-input",{attrs:{placeholder:"客服QQ"},model:{value:e.formDynamic.qq,callback:function(t){e.$set(e.formDynamic,"qq",t)},expression:"formDynamic.qq"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"邮编地址:",prop:"postNum"}},[n("el-input",{attrs:{placeholder:"邮编地址"},model:{value:e.formDynamic.postNum,callback:function(t){e.$set(e.formDynamic,"postNum",t)},expression:"formDynamic.postNum"}})],1),e._v(" "),e._l(e.formDynamic.items,function(t,o){return t.status?[n("el-form-item",{attrs:{label:"地址 "+(o+1)}},[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-input",{attrs:{type:"text"},model:{value:t.address,callback:function(n){e.$set(t,"address",n)},expression:"item.address"}})],1),e._v(" "),n("el-col",{attrs:{span:4,offset:1}},[n("el-button",{on:{click:function(t){e.handleRemove(o)}}},[e._v("移除")])],1)],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"电话 "+(o+1)}},[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-input",{attrs:{type:"text"},model:{value:t.tel,callback:function(n){e.$set(t,"tel",n)},expression:"item.tel"}})],1),e._v(" "),n("el-col",{attrs:{span:4,offset:1}})],1)],1)]:e._e()}),e._v(" "),n("el-form-item",[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:e.handleAdd}},[e._v("添加子项")])],1)],1)],1),e._v(" "),e._l(e.formDynamic.jsSlot,function(t,o){return[n("el-form-item",{key:o,attrs:{label:"JS代码插槽 "+(o+1)}},[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-input",{attrs:{type:"text"},model:{value:t.code,callback:function(n){e.$set(t,"code",n)},expression:"itemJS.code"}})],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("el-button",{on:{click:function(t){e.JShandleRemove(o)}}},[e._v("移除")])],1)],1)],1)]}),e._v(" "),n("el-form-item",[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:e.JShandleAdd}},[e._v("添加子项")])],1)],1)],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("保存")])],1)],2)],1)},staticRenderFns:[]}},430:function(e,t,n){var o=n(176)(n(259),n(260),!1,null,null,null);e.exports=o.exports}});