webpackJsonp([18],{176:function(e,t){e.exports=function(e,t,n,i,o,r){var a,s=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(a=e,s=e.default);var d,u="function"==typeof s?s.options:s;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o),r?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},u._ssrRegister=d):i&&(d=i),d){var l=u.functional,f=l?u.render:u.beforeCreate;l?(u._injectStyles=d,u.render=function(e,t){return d.call(t),f(e,t)}):u.beforeCreate=f?[].concat(f,d):[d]}return{esModule:a,exports:s,options:u}}},177:function(e,t,n){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=n(178),r={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,d=!1,u=function(){},l=null,f="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var n=e[t],i=r[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(v(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(v(n.parts[o]));r[n.id]={id:n.id,refs:1,parts:a}}}}function h(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,n,i=document.querySelector("style["+f+'~="'+e.id+'"]');if(i){if(d)return u;i.parentNode.removeChild(i)}if(m){var o=c++;i=s||(s=h()),t=w.bind(null,i,o,!1),n=w.bind(null,i,o,!0)}else i=h(),t=function(e,t){var n=t.css,i=t.media,o=t.sourceMap;i&&e.setAttribute("media",i);l.ssrId&&e.setAttribute(f,t.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}e.exports=function(e,t,n,i){d=n,l=i||{};var a=o(e,t);return p(a),function(t){for(var n=[],i=0;i<a.length;i++){var s=a[i];(c=r[s.id]).refs--,n.push(c)}t?p(a=o(e,t)):a=[];for(i=0;i<n.length;i++){var c;if(0===(c=n[i]).refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete r[c.id]}}}};var g,y=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}},178:function(e,t){e.exports=function(e,t){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],a=r[0],s={id:e+":"+o,css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}},200:function(e,t,n){e.exports=n(206)},206:function(e,t,n){var i=n(176)(n(207),n(208),!1,null,null,null);e.exports=i.exports},207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return i(e,[{key:"on",value:function(e,t){void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"emit",value:function(e){this.listeners[e]&&this.listeners[e].forEach(function(e){return e()})}}]),e}();t.default={name:"VueUeditorWrap",data:function(){return{id:"editor"+Math.random().toString().slice(-10),editor:null,status:0,initValue:"",defaultConfig:{UEDITOR_HOME_URL:"./static/UEditor/",enableAutoSave:!1}}},props:{value:{type:String,default:""},config:{type:Object,default:function(){return{}}},init:{type:Function,default:function(){return function(){}}},destroy:{type:Boolean,default:!1},name:{type:String,default:""}},computed:{mixedConfig:function(){return Object.assign({},this.defaultConfig,this.config)}},methods:{registerButton:function(e){var t=e.name,n=e.icon,i=e.tip,o=e.handler,r=e.UE,a=void 0===r?window.UE:r;a.registerUI(t,function(e,t){e.registerCommand(t,{execCommand:function(){o(e,t)}});var r=new a.ui.Button({name:t,title:i,cssRules:"background-image: url("+n+") !important;background-size: cover;",onclick:function(){e.execCommand(t)}});return e.addListener("selectionchange",function(){var n=e.queryCommandState(t);-1===n?(r.setDisabled(!0),r.setChecked(!1)):(r.setDisabled(!1),r.setChecked(n))}),r})},_initEditor:function(){var e=this;this.$nextTick(function(){e.init(),e.editor=window.UE.getEditor(e.id,e.mixedConfig),e.editor.addListener("ready",function(){e.status=2,e.editor.setContent(e.initValue),e.$emit("ready",e.editor),e.editor.addListener("contentChange",function(){e.$emit("input",e.editor.getContent())})})})},_checkDependencies:function(){var e=this;return new Promise(function(t,n){!!window.UE&&!!window.UEDITOR_CONFIG&&0!==Object.keys(window.UEDITOR_CONFIG).length&&!!window.UE.getEditor?t():window.loadEnv?window.loadEnv.on("scriptsLoaded",function(){t()}):(window.loadEnv=new o,e._loadConfig().then(function(){return e._loadCore()}).then(function(){t(),window.loadEnv.emit("scriptsLoaded")}))})},_loadConfig:function(){var e=this;return new Promise(function(t,n){if(window.UE&&window.UEDITOR_CONFIG&&0!==Object.keys(window.UEDITOR_CONFIG).length)t();else{var i=document.createElement("script");i.type="text/javascript",i.src=e.mixedConfig.UEDITOR_HOME_URL+"ueditor.config.js",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){window.UE&&window.UEDITOR_CONFIG&&0!==Object.keys(window.UEDITOR_CONFIG).length?t():console.error("加载ueditor.config.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!\n",i.src)}}})},_loadCore:function(){var e=this;return new Promise(function(t,n){if(window.UE&&window.UE.getEditor)t();else{var i=document.createElement("script");i.type="text/javascript",i.src=e.mixedConfig.UEDITOR_HOME_URL+"ueditor.all.min.js",document.getElementsByTagName("head")[0].appendChild(i),i.onload=function(){window.UE&&window.UE.getEditor?t():console.error("加载ueditor.all.min.js失败,请检查您的配置地址UEDITOR_HOME_URL填写是否正确!\n",i.src)}}})},_setContent:function(e){e===this.editor.getContent()||this.editor.setContent(e)}},beforeDestroy:function(){this.destroy&&this.editor&&this.editor.destroy&&this.editor.destroy()},watch:{value:{handler:function(e){var t=this;switch(this.status){case 0:this.status=1,this.initValue=e,this._checkDependencies().then(function(){return t._initEditor()});break;case 1:this.initValue=e;break;case 2:this._setContent(e)}},immediate:!0}}}},208:function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("script",{attrs:{id:this.id,name:this.name,type:"text/plain"}})},staticRenderFns:[]}},398:function(e,t,n){var i=n(399);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(177)("671944a0",i,!0,{})},399:function(e,t,n){(e.exports=n(75)(!1)).push([e.i,".edui-editor,.edui-editor-iframeholder{width:100%!important}",""])},400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),o=n(200),r=n.n(o);t.default={components:{VueUeditorWrap:r.a},data:function(){return{index:1,formDynamic:{english:"",title:"",content:"",desc:"",keyword:"company"},configID:0,operation:"",Ueconfig:{serverUrl:"/static/UEditor/php/controller.php"}}},created:function(){var e=this;i.a.get("/config",{params:{keyword:"company"}}).then(function(t){t.data.status?(e.formDynamic=t.data.data,e.operation="edit",e.configID=t.data.data.id):e.operation="add"})},methods:{handleAdd:function(){this.index=this.formDynamic.items.length+1,this.formDynamic.items.push({address:"",tel:"",index:this.index,status:1})},handleRemove:function(e){this.formDynamic.items[e].status=0,this.formDynamic.items.splice(e,1)},handleSubmit:function(e){var t=this;"edit"===this.operation?i.a.patch("/config/"+this.configID,{keyword:this.formDynamic.keyword,value:this.formDynamic,type:"json"}).then(function(e){t.$message.info(e.data.message)}):i.a.post("/config",{keyword:this.formDynamic.keyword,value:this.formDynamic,type:"json"}).then(function(e){t.$message.info(e.data.message)})}}}},401:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"70%"}},[n("el-form",{ref:"formDynamic",attrs:{model:e.formDynamic,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"英文标头:",prop:"english"}},[n("el-input",{attrs:{placeholder:"输入英文标头"},model:{value:e.formDynamic.english,callback:function(t){e.$set(e.formDynamic,"english",t)},expression:"formDynamic.english"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"标题:",prop:"title"}},[n("el-input",{attrs:{placeholder:"标题"},model:{value:e.formDynamic.title,callback:function(t){e.$set(e.formDynamic,"title",t)},expression:"formDynamic.title"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"描述:",prop:"desc"}},[n("el-input",{attrs:{placeholder:"描述(首页展示)"},model:{value:e.formDynamic.desc,callback:function(t){e.$set(e.formDynamic,"desc",t)},expression:"formDynamic.desc"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"正文:",prop:"content"}},[n("vue-ueditor-wrap",{attrs:{config:e.Ueconfig},model:{value:e.formDynamic.content,callback:function(t){e.$set(e.formDynamic,"content",t)},expression:"formDynamic.content"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]}},444:function(e,t,n){var i=n(176)(n(400),n(401),!1,function(e){n(398)},null,null);e.exports=i.exports}});